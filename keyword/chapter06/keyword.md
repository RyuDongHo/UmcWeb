# 📝 학습 목표

---

1. **`QueryParameter`**를 활용하여, 검색 기능을 구현해봅니다.
2. **`Debounce`**와 **`Throttling`**이 무엇인지 알아보고, 이를 실제 프로젝트에 적용해봅니다.
3. **`useContext`**를 활용하여, 전역 상태 관리를 하는 이유와, 기존 코드 리팩토링을 진행해봅니다.
4. **`AccessToken`**과 **`RefreshToken`**을 활용한 로그인 방식에 대해 학습합니다.

# ⚠️  스터디 진행 방법

---

1. 스터디를 진행하기 전, 워크북 내용들을 모두 채우고 스터디에서 서로 모르는 내용들을 스터디원과 함께 공유해 주세요.
2. 실습과 미션은 워크북 내용들을 모두 완료한 후, 스터디 전에 진행해 오세요!
    - 1주 차 스터디 이전에 1주 차 워크북을 완성한 후 스터디를 진행해 주세요.
3. 스터디 시간에는 각자 해 온 미션들을 공유하고, 아래의 과정을 진행합니다.
    1. 스터디원과 함께 코드 리뷰 진행.
    2. 코드 리뷰 이후, 본인의 코드의 문제가 있는 경우 리팩토링 진행.
    3. 팀원들과, 조금 더 코드를 깔끔하게 작성할 수 있는 개선점이 있을지 고민 후, 리팩토링 진행.
    4. 각자 미션을 진행하면서 해결하지 못한 이슈를 공유 후, 해당 이슈를 도움받아 해결.
4. 매주 주어진 미션을 성실하게 제출합니다.
5. 🍠 이모지가 붙어있는 곳은, 직접 여러분들이 채워 넣으셔야 하는 부분입니다. 꼭 Google을 통한 검색을 하시고, VSCode를 활용하여, 실행 결과를 눈으로 보시면서 정리해 주세요!

# 📸 잠깐 ! 스터디 인증샷은 찍으셨나요?📸

---

* 스터디리더께서 대표로 매 주차마다 한 장 남겨주시면 좋겠습니다!🙆💗
 (사진을 저장해서 이미지 임베드를 하셔도 좋고, 복사+붙여넣기해서 넣어주셔도 좋습니다!)

[]()

# 🎯 핵심 키워드

---

<aside>
💡 주요 내용들에 대해 조사해보고, 자신만의 생각을 통해 정리해보세요!
레퍼런스를 참고하여 정의, 속성, 장단점 등을 적어주셔도 됩니다.
조사는 공식 홈페이지 **Best**, 블로그(최신 날짜) **Not Bad**

</aside>

### 키워드 정리 🍠

- Debounce & Throttling 🍠
    - Debounce는 무엇일까요?
        
        이벤트가 발생할 때, 인식하는 최소 시간을 지정하는 최적화 방식입니다.
        
        예를 들어 이벤트를 인식하게할 최소 시간을 10초로 지정하고
        
        1초 간격으로 같은 이벤트를 계속 발생시키면, 실제로 인식되지 않고
        
        10초 간격 이상으로 실행되는 이벤트만을 인식합니다.
        
    - Debounce는 주로 어디에 사용하나요?
        
        이벤트가 여러번 발생해도, 한 번만 실행되는 것이 정상적인 로직에 사용하면 됩니다.
        
        예를 들어 사용자가 로그아웃 버튼을 누를 때, 정말 빠른 속도로 100번 버튼을 클릭하더라도, 실제로 로그아웃 함수를 100번 호출하는 게 아니라, 한 번만 실행하면 되는 것이 정상적인 로직인 경우에 사용합니다.
        
    - Throttling은 무엇일까요?
        
        이벤트 발생 사이의 딜레이타임을 지정하는 것입니다.
        
        스크롤 이벤트를 구현할 때, 스크롤을 0.1s안에 매우 길게 많이 해버렸을때,
        
        사용자 입력에 맞춰 이벤트를 발생시켜버리면, 문제가 생길 수 있습니다.
        
        이때, 그 이벤트들을 적당한 간격으로 실행시키는 겁니다.
        
    - Throttling은 주로 어디에 사용하나요?
        
        위에서 말한 것 처럼, 적당한 간격으로 실행시켜주고 싶은 로직에 사용하면 됩니다.
        
    - Debounce와 Throttling의 차이점은 무엇일까요?
        
        디바운스는 결국 마지막 하나의 이벤트를 실행하는 것이고, 쓰로틀은 여러번 발생하면 간격을 둘 뿐 전부 이벤트가 작동합니다.
        
    - 어떤 기능을 구현할 때 Debounce를 적용하고, Throttling을 적용하는 것이 좋을까요?
        
        위의 내용과 같습니다.
        
- 쿠키 🍠
    - 쿠키란 무엇이고, 어떤 특징을 가지고 있을까요?
        
        쿠키는 로컬스토리지와 마찬가지로 클라이언트쪽에 데이터를 저장시키는 방식입니다.
        
        대신 쿠키는 http통신에 사용되고, session을 만들때도 자동으로 하나 생성되고, 더 작은 크기 제한, 유효시간 설정 등등 여러가지 기능이 있습니다. httpOnly flag를 통해 브라우저에서의 접근을 막아 보안을 높일 수도 있습니다.
        
    - 쿠키를 어떻게 사용할 수 있을까요?
        
        패키지를 사용해도 되고, document.cookie 처럼 사용해도 됩니다.
        
- 토큰 🍠
    - 토큰이 왜 필요할까요?
        
        인증 방식의 일환입니다, 사용자 정보 같은 중요한 데이터를 그대로 저장하고 전송하면 위험이 크기 때문에 사용합니다.
        
    - CORS 에러가 무엇이고, 이 에러를 어떻게 해결할 수 있을까요?
        
        출처가 다른 소스를 교차하여 사용하지 못하게 하는 정책을 어기면 발생합니다.
        
        proxy설정을 건든다거나 하는 방식으로 해결이 되지만, 일단
        
         CORS에러가 발생한 정확한 원인 고민해봐야합니다. 
        
    - JWT 토큰 기반 인증 방법이란 무엇일까요?
        
        json 형식으로 데이터를 암호화하여 사용하는 방식입니다.
        
    - JWT 기반 로그인 동작 과정에 대해 알아보세요.
        
        암호화된 데이터를 통신에 사용하면 서버에서, 검증하고 데이터를 전달해줍니다.
        
    - AccessToken / RefreshToken의 차이에 대해 설명해주세요.
        
        accessToken의 주기를 짧게 Refresh는 길게 가져가서, access토큰은 탈취의 리스크를 줄인 뒤에 access토큰을 데이터 통신에 주로 사용하고 refresh는 가려둡니다.
        
- 웹 스토리지 🍠
    - 웹 스토리지의 메소드와 프로퍼티는 어떤게 있을까요?
        
        get set key removeItem 같은 메소드가 있고
        
        length 프로퍼티 있습니다.
        
    - 세션 스토리지에 대해 정리해 주세요!
        
        탭을 기준으로 저장하고 사용하는 데이터가 들어갑니다.
        
    - 로컬 스토리지에 대해 정리해 주세요!
        - 브라우저에 데이터를 **영구적으로 저장**합니다.
        - 명시적으로 삭제하지 않는 이상 브라우저를 닫아도 데이터가 유지됩니다.
        - 동일한 도메인 간에 데이터가 공유됩니다
    - 로컬 스토리지에서 JWT 토큰을 저장하고, 사용하고, 삭제하는 메소드에 대해 찾아보세요!
        
        위에 토큰에서 설명한 바와 같습니다. 말 그대로 저장하고 사용하고 삭제할 뿐이지 JWT라고 해서 더 특별한 무언가가 있는 게 아닙니다.
        
        다만 탈취되었을 때의 문제를 생각해서 여러가지 보안 장치를 마련해야 합니다.
        
        프론트에서 다루는 데이터는 무조건 탈취가능합니다. 탈취를 최대한 방지하는 방식으로 설계하되, 반드시 탈취가 되었다는 경우도 가정해야합니다. 이부분은 백엔드에서 더 많이 고민해야할 문제이기도 합니다.
        
    - 스토리지가 변경되었을 때 처리하는 방법을 조사해 주세요.
        
        
        스토리지 변경은 `storage` 이벤트로 처리할 수 있습니다. 이 이벤트는 **다른 브라우저 탭이나 창에서 스토리지 데이터가 변경될 때 발생**합니다.
        
    - Bearer Token이 무엇인지 찾아보고, 이를 통해 백엔드 서버와 어떠한 방식으로 통신하는지 조사해 보세요!
        - 인증 정보를 포함한 문자열 형태의 토큰으로, 주로 **OAuth 2.0**에서 사용됩니다.
        - 클라이언트가 서버로 요청을 보낼 때 **HTTP 헤더의 `Authorization` 필드에 포함**하여 전송.
- Context-API 🍠
    - 전역 상태 관리는 왜 해야할까요?
        
        유지보수와, 최적화 때문에 필요합니다.
        
    - Context API란 무엇일까요?
        
        데이터를 여러 컴포넌트에서 사용하고자 할 때, 사용합니다
        
        하지만, 재사용 성을 낮추고, 상태가 수정될 때 모든 하위 컴포넌트가 재 렌더링 되는 건 마찬가지기 때문에 단순히 props drilling을 해결하기 위해서만 사용하기엔 적절하진 않습니다.
        

<aside>
🍠

잘 이해가 되시지 않는다면, 아래 영상을 참고해도 좋습니다!

</aside>

https://www.youtube.com/watch?v=WQHuqL2S74o&t=877s

https://www.youtube.com/watch?v=WQHuqL2S74o&t=877s

# ✅ 실습

- [x]  기존 2주차 `React`로 제작한 **`ToDoList`**를, **`Context-API`**를 활용하여 **`리팩토링을 진행`**해주세요!
    
    todoList를 어떻게 구현했는 지는 몰라도, 저는 전역상태 관리를 추가해서 리팩토링 할 부분은 없었습니다.
    
    그래도 그냥 하는 김에 recoil로 해봤습니다.
    
    contextAPI나 recoil이나 사용방법은 거의 똑같습니다. 작동 구조가 다를 뿐이고 사용 방법, 목적에 큰 차이가 있진 않습니다.
    
    그리고 일반적으로 useState를 통해 만든 state는 직접 수정은 안되지만, 간접 접근을 통한 수정이 됩니다.
    
    예를 들어 여기선, todoList 안에 객체의 배열을 가지고 있는데, copyList = todoList;
    
    copyList[index].member = “changed”; 로 수정이 가능합니다.
    
    recoil은 이런 부분들을 방지해서, state관리를 더 편하고 엄격하게 해줍니다
    
- 깃허브 주소
    
    https://github.com/RyuDongHo/UmcWeb
    
- 실행 영상
    
    [20241113-1623-08.7413001.mp4](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/55f199b5-d199-4479-91f9-aa6153651b23/20241113-1623-08.7413001.mp4)
    

# 🔥 미션 1. 회원가입 / 로그인 API 연결

<aside>
💡

아래, BE 서버를 활용하여, 아래와 같은 화면을 구현해주세요.
https://github.com/dydals3440/UMC-7th-YONGCHA-BE

</aside>

https://github.com/dydals3440/UMC-7th-YONGCHA-BE

### 1. 회원가입

![스크린샷 2024-09-30 오전 12.17.05.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/78d333fa-aa22-492f-828f-335b3927525d/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_12.17.05.png)

- [x]  **`회원가입 API`**를 잘 연결하였는가?
- [x]  회원가입 후, `login 페이지`로 이동하였는가?

### 2. 로그인

![스크린샷 2024-09-30 오전 12.18.19.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/12e13eac-1a6d-4ea4-8688-970d2283b60f/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_12.18.19.png)

- [x]  **`로그인 API`**를 잘 연결하였는가?
- [x]  로그인 후, `메인 페이지`로 이동하였는가?
- [x]  **`AccessToken`**과, **`RefreshToken`**을 **`로컬스토리지에서 저장`**하였는가?

### 3. 로그인 후 메인 페이지 이동 시

![스크린샷 2024-09-30 오전 12.14.44.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/b095f639-230d-4bb4-9fc4-69cee14ada08/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_12.14.44.png)

- [x]  **`Navbar`**의 로그인, 회원가입 버튼 대신, **`로그아웃 버튼`**을 보여주었는가?
- [x]  **`유저 정보 불러오기 API`**를 호출하여, 로그인 한 유저 이메일 **`@ 기준 앞 부분(닉네임)`**을 Navbar에 잘 보여주었는가?

### 4. 로그아웃 시

![스크린샷 2024-09-30 오전 12.21.38.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/219d8a2b-3eac-4149-a144-c36676387d4f/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_12.21.38.png)

- [x]  로그아웃 후, Navbar에 유저 정보가, 사라지며, **`로그인, 회원가입 버튼이 다시 생겼는가?`**
- [x]  **`AccessToken`**과, **`RefreshToken`**을 **`로컬스토리지에서 제거`**하였는가?

### 5. 추가로 해보면 좋아요!

- [x]  `refreshToken을 활용`**하여,** `토큰 재발급`**을 진행해보세요.**
    - [x]  **`Axios Interceptor`**를 활용하여, **`refreshToken`**을 활용하여, **`accessToken`**을 **`재발급`** 받는 로직을 구글 검색을 통해, 직접 해결해보세요!
        
        axios는 쓰지 않고 fetch로 하드코딩 해봤습니다.
        
        axios만 쓸 때는, 그냥 기능이 편하니까 쓴다 고만 생각했지 구체적으로 어떤 이유로 쓰는 지 감이 안 왔는데,
        
        fetch로 하나씩 설계해보니, 폴더 구조에 맞게 응집도 높은 구조를 설계하려면, 신경 쓸 부분이 생각보다 많았습니다.
        
    - [x]  **`refreshToken`**을 활용하여, 토큰 재발급을 진행하면, 어떤 부분에서 이점이 있는지 작성해주세요!
    - 어떤 장점이 있을까요?
        
        accessToken의 유효기간을 짧게 함으로서 accessToken이 탈취되어도 보안상의 위협을 낮추기 위함입니다.
        
        즉 accessToken이 refreshToken과 다른 방식으로 저장되어, 사용자가 refreshToken에 접근하지 못하도록 방지해야 이 방법이 의미가 있습니다.
        
        그래서 저는 accessToken은 쿠키에 저장하고 refreshToken 은 httpOnly옵션을 주고 쿠키에 저장하는 방식을 구현했으나, 백엔드에서 httpOnly형식의 쿠키를 직접 분석해서 사용하는 방식을 구현해주어야 하기 때문에, 과제에선 httpOnly방식을 구현만 해두고 일단 accessToken과 같은 방식으로 저장하고 있습니다.
        

### 🔥 미션 1. 제출

- 깃허브 주소
    
    https://github.com/RyuDongHo/UmcWeb
    
- 실행 영상
    
    아래에 한번에 올리겠습니다
    

# 🔥 미션 2. QueryParameter 활용 검색 기능 구현

<aside>
💡

아래와 같은, 여러 조건에 대하여 활용해서 검색 기능을 구현해주세요.
단, **`Query-Parmeter`**를 효율적으로 활용해서, 구현해주세요!

</aside>

- [x]  **`Styled-Components`**를 활용해주세요
- [x]  기존에 만들었던, **`movie-card 컴포넌트`**를 재사용해주세요.

1. 영화 제목 검색어를 입력하지 않는 경우 (`/search` 경로에 처음 온 경우)
    
    ![스크린샷 2024-09-25 오후 8.39.03.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/b4deb1da-f975-4254-8e2c-629fead9ec2b/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-25_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_8.39.03.png)
    

1. 영화 제목 검색어를 입력한 경우
    
    ![스크린샷 2024-09-25 오후 8.40.23.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/53f552ef-5ecf-451f-95c3-6c0ce839ab3e/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-25_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_8.40.23.png)
    

1. 영화 검색어를 입력했으나, 해당 검색어의 영화 데이터가 존재하지 않는 경우.
    
    ![스크린샷 2024-09-25 오후 8.48.41.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/5f4401e5-85aa-4ea3-999f-35982279b4a6/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-25_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_8.48.41.png)
    

1. 로딩 중인 경우, 아래와 같은 **`Skeleton UI`**를 만들어주세요!

[화면 기록 2024-09-25 오후 9.49.33.mov](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/acd1e244-c55b-48ea-b5dc-d3df7f22c7e8/%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%80%E1%85%B5%E1%84%85%E1%85%A9%E1%86%A8_2024-09-25_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_9.49.33.mov)

1. **`Debounce`**에 대한 키워드를 학습하셨나요?
    - [x]  **`Debounce`** 가 무엇인지 작성해주세요~!
        - Debounce는 무엇인가요?
            
            Debounce는 함수가 연속적으로 여러번 호출되면, 호출될 때마다 함수를 호출하는 게 아니라, 마지막 함수 호출 시점으로부터 지정한 시간이 지나면 그때 함수를 호출하는 최적화 방식.
            
    - [ ]  Debounce를 검색 기능에 적용해주세요!
        
        검색어가 변할 때만 api통신이 발생하도록 로직을 구성했기 때문에
        
        debounce를 적용할만한 곳이 없어서 커스텀훅으로 만들어만 두고 적용하진 않았습니다.
        
        - 실행 영상 첨부
        
- [ ]  혹시라도, 구현에 어려움을 느끼신 경우, 아래 영상을 참고해서, 미션을 수행해주세요.

https://www.youtube.com/watch?v=L3eGGsAyd_A

### 🔥 미션 2. 제출

- 깃허브 주소
    
    https://github.com/RyuDongHo/UmcWeb
    
- 실행 영상
    
    [qwe.mp4](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/cd6cf180-4ed4-44cd-b5dc-8fa19e58ad01/qwe.mp4)
    

# ⚡ 트러블 슈팅